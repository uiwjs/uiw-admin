{"version":3,"file":"static/js/634.6e1591d6.chunk.js","mappings":"+GAAA","sources":["../../../packages/config/README.md"],"sourcesContent":["export default \"@uiw-admin/config\\n===\\n\\nç®€åŒ– `.kktrc` é…ç½®ï¼Œé»˜è®¤é›†æˆ `@uiw-admin/plugins`ã€`@kkt/less-modules`ã€`@kkt/raw-modules`ã€`@kkt/scope-plugin-options` ä¾èµ–åŒ…ã€‚\\nå…¶ä»–é…ç½®æŸ¥è¯¢[`kkt`](https://github.com/kktjs/kkt)\\n\\n## Installation\\n\\n```bash\\nnpm i @uiw-admin/config -D\\n```\\n\\n## å‚æ•°\\n\\n```ts\\nexport type ConfFun = (conf: WebpackConfiguration, evn: string, options?: LoaderConfOptions | undefined) => WebpackConfiguration\\n\\nexport type PluginsType = (\\n  | ((this: webpack.Compiler, compiler: webpack.Compiler) => void)\\n  | webpack.WebpackPluginInstance\\n  | [string, Record<string, any>]\\n  | string\\n)[];\\n\\nexport type KKTPlugins = (\\n  | ConfFun\\n  | {\\n    loader?: ConfFun;\\n    options?: LoaderConfOptions | undefined | Record<string, any>;\\n  }\\n  | string\\n  | [string, Record<string, any>]\\n)[]\\nexport type DefaultDefineType = {\\n  /** æƒé™æ ¡éªŒ  é»˜è®¤ true */\\n  AUTH?: string | boolean;\\n  /** è·¯ç”± è·³è½¬å‰ç¼€ é»˜è®¤ \\\"/\\\" */\\n  BASE_NAME?: string;\\n  /** æœ¬åœ°å­˜å‚¨ä½¿ç”¨ localStorage è¿˜æ˜¯  sessionStorage  */\\n  STORAGE?: string;\\n  /** ç‰ˆæœ¬  */\\n  VERSION?: string;\\n};\\n\\nexport interface ConfigProps extends Omit<WebpackConfiguration, 'plugins'> {\\n  /**\\n   * åˆ«å\\n   * é»˜è®¤ç³»ç»Ÿå†…ç½®ä¸¤ä¸ªåˆ«å\\n   * 1. `@` æŒ‡å‘ src ç›®å½•\\n   * 2. `@@` æŒ‡å‘ src/.uiw ç›®å½•\\n   */\\n  alias?: Record<string, string | false | string[]>;\\n  /** æ’ä»¶ */\\n  plugins?:PluginsType;\\n  /** é»˜è®¤å…¨å±€å˜é‡ define ï¼Œ ğŸ“¢ æ³¨æ„ï¼šå¯¹è±¡çš„å±æ€§å€¼ä¼šç»è¿‡ä¸€æ¬¡ JSON.stringify è½¬æ¢   */\\n  define?: Record<string, any> & DefaultDefineType;\\n   /**\\n    * kkt plugin \\n    * @deprecated æ¨èä½¿ç”¨ `kktPlugins`\\n    */\\n  loader?:KKTPlugins;\\n   /**  kkt plugin  */\\n  kktPlugins?: KKTPlugins;\\n  /** é¡¹ç›®å‰ç¼€ */\\n  publicPath?: string;\\n  /**\\n   * æä¾›å›è°ƒå‡½æ•°ï¼Œæ›´æ”¹ webpack çš„æœ€ç»ˆé…ç½®ã€‚\\n   * @deprecated æ¨èä½¿ç”¨ `overrideWebpack`\\n   */\\n  moreConfig?: ConfFun;\\n  /** æä¾›å›è°ƒå‡½æ•°ï¼Œæ›´æ”¹ webpack çš„æœ€ç»ˆé…ç½®ã€‚ */\\n  overrideWebpack?: ConfFun;\\n  /** è¾“å‡º */\\n  output?: Omit<WebpackConfiguration['output'], 'publicPath'>;\\n}\\n```\\n\\n## kktPlugins \\n\\n[`KKT`](https://github.com/kktjs/kkt) çš„ plugin\\n\\n```ts\\nimport defaultConfig, { WebpackConfiguration } from \\\"@uiw-admin/config\\\";\\n\\nexport default defaultConfig({\\n  // ....\\n   kktPlugins: [\\n    rawModules,\\n    { loader: scopePluginOptions, options: { allowedFiles: [path.resolve(process.cwd(), 'README.md')] } },\\n    lessModules\\n  ],\\n})\\n```\\n\\n## overrideWebpack\\n\\né€šè¿‡ [`KKT`](https://github.com/kktjs/kkt) çš„ API ä¿®æ”¹ webpack é…ç½®ã€‚\\n\\n```ts\\nimport defaultConfig, { WebpackConfiguration } from \\\"@uiw-admin/config\\\";\\n\\nexport default defaultConfig({\\n  // ....\\n  overrideWebpack: (conf: WebpackConfiguration) => {\\n    conf.output = { ...conf.output, publicPath: './' };\\n    return conf\\n  }\\n})\\n```\\n\\n## define\\n\\nç”¨äºæä¾›ç»™ä»£ç ä¸­å¯ç”¨çš„å˜é‡ã€‚ä¸‹é¢æ˜¯è‡ªå¸¦é»˜è®¤å€¼ï¼š\\n\\n```ts\\n/** å…¨å±€é»˜è®¤å…¬å…±å‚æ•°  */\\nexport const defaultDefine = {\\n  /** æƒé™æ ¡éªŒ  é»˜è®¤ true */\\n  AUTH: JSON.stringify(true),\\n  /** è·¯ç”± è·³è½¬å‰ç¼€ é»˜è®¤ \\\"/\\\" */\\n  BASE_NAME: JSON.stringify(\\\"/\\\"),\\n  /** æœ¬åœ°å­˜å‚¨ä½¿ç”¨ localStorage è¿˜æ˜¯  sessionStorage  å¯é€‰å€¼ local | session */\\n  STORAGE: JSON.stringify(\\\"session\\\")\\n  /** ç‰ˆæœ¬  */\\n  VERSION: JSON.stringify(\\n    require(path.resolve(process.cwd(), './package.json')).version || '0',\\n  ),\\n}\\n```\\n\\n## alias\\n\\né…ç½®åˆ«åï¼Œå¯¹å¼•ç”¨è·¯å¾„è¿›è¡Œæ˜ å°„ã€‚\\n\\n```ts\\nimport config from \\\"@uiw-admin/config\\\"\\nexport default config({\\n  alias: {\\n    foo: '/tmp/a/b/foo',\\n  },\\n  //  ...\\n})\\n```\\n\\nå†…ç½®äº†ä»¥ä¸‹åˆ«åï¼š\\n\\n- `@`ï¼Œé¡¹ç›® `src` ç›®å½•\\n- `@@`ï¼Œä¸´æ—¶ç›®å½•ï¼Œé€šå¸¸æ˜¯ `src/.uiw` ç›®å½•\\n\\n## plugins å‚æ•°è¯´æ˜\\n\\n1. ä½¿ç”¨çš„å…ˆè¡Œæ¡ä»¶--æ’ä»¶éœ€è¦é»˜è®¤å¯¼å‡ºæ˜¯ä¸€ä¸ª class ç±»ï¼Œç¬¦åˆ`webpack` çš„ `plugins`è§„èŒƒï¼Œ\\n2. ä¸€ç»´æ•°ç»„æ—¶ï¼Œç›´æ¥æŠŠå­—ç¬¦ä¸²å½“æˆåŒ…åè¿›è¡ŒåŠ è½½ï¼Œä½¿ç”¨`require`è¿›è¡Œå¼•å…¥åç›´æ¥`new`\\n3. äºŒç»´æ•°ç»„æ—¶ï¼Œç›´æ¥æŠŠæ•°ç»„ç¬¬ä¸€é¡¹å½“æˆåŒ…è¿›è¡ŒåŠ è½½ï¼Œä½¿ç”¨`require`è¿›è¡Œå¼•å…¥å`new`çš„æ—¶å€™æŠŠ ç¬¬äºŒé¡¹å½“æˆå‚æ•°è¿›è¡Œä¼ é€’åˆ°åŒ…å†…éƒ¨ \\n4. `webpack` åŸå§‹çš„ [`plugins`](https://webpack.docschina.org/concepts/plugins/#usage) ç±»å‹\\n\\n```ts\\nclass DemoWebpackPlugin {\\n  constructor(){\\n    // ...\\n  }\\n  apply(compiler: webpack.Compiler) {\\n    compiler.hooks.afterPlugins.tap(\\\"DemoWebpackPlugin\\\", () => {\\n      // ...\\n    })\\n  }\\n}\\n```\\n\\n## kktPlugins (~~æ—§loader~~) å‚æ•°è¯´æ˜\\n\\n1. ä½¿ç”¨çš„å…ˆè¡Œæ¡ä»¶--éœ€è¦é»˜è®¤å¯¼å‡ºæ˜¯ä¸€ä¸ªå‡½æ•°æ–¹æ³•,è¿”å›ç±»å‹ä¸º`webpack.Configuration `çš„å‡½æ•°\\n2. ä¸€ç»´æ•°ç»„æ—¶ï¼Œç›´æ¥æŠŠå­—ç¬¦ä¸²å½“æˆåŒ…åè¿›è¡ŒåŠ è½½ï¼Œä½¿ç”¨`require`è¿›è¡Œå¼•å…¥åç›´æ¥æ–¹æ³•è°ƒç”¨\\n3. äºŒç»´æ•°ç»„æ—¶ï¼Œç›´æ¥æŠŠæ•°ç»„ç¬¬ä¸€é¡¹å½“æˆåŒ…è¿›è¡ŒåŠ è½½ï¼Œä½¿ç”¨`require`è¿›è¡Œå¼•å…¥åè°ƒç”¨çš„æ—¶å€™æŠŠ ç¬¬äºŒé¡¹å½“æˆå‚æ•°è¿›è¡Œä¼ é€’åˆ°åŒ…å†…éƒ¨ \\n\\n```ts\\nexport default (conf: Configuration, env: string, options = {} as ReactLibraryOptions): Configuration => {\\n  conf.output = { ...conf.output, publicPath: './' };\\n  return conf\\n};\\n```\\n\\n## é…ç½®æ¡ˆä¾‹\\n\\nâš ï¸ æ³¨æ„ï¼šä½¿ç”¨è‡ªå®šä¹‰ `plugins` å’Œ `loader` æ—¶ï¼Œè¯·å®‰è£…å¯¹åº”åŒ…ã€‚å®˜æ–¹é»˜è®¤çš„ `@uiw-admin/plugins-**` å’Œ `loader` (`@kkt/*`) ä¸éœ€è¦å®‰è£…ã€‚\\n\\n### ~~æ—§çš„é…ç½®æ¡ˆä¾‹~~\\n\\nä¸æ¨èæ—§çš„é…ç½®æ¡ˆä¾‹ï¼Œä½¿ç”¨æ–°çš„é…ç½®æ¡ˆä¾‹ï¼Œå®ƒå°†å˜å¾—æ›´ç®€å•ã€‚\\n\\n```ts\\nimport defaultConfig from \\\"@uiw-admin/config\\\"\\nimport { RematchWebpackPlugin, RoutesWebpackPlugin } from '@uiw-admin/plugins'\\nimport lessModules from '@kkt/less-modules'\\nimport rawModules from '@kkt/raw-modules'\\nimport scopePluginOptions from '@kkt/scope-plugin-options'\\nexport default defaultConfig({\\n  define: {\\n    VERSION: JSON.stringify(pkg.version),\\n    // BASE_NAME: \\\"/uiw\\\"\\n  },\\n  plugins: [new RematchWebpackPlugin(), new RoutesWebpackPlugin()],\\n  // publicPath: process.env.NODE_ENV === \\\"development\\\" ? \\\"/\\\" : \\\"/uiw/\\\",\\n  loader: [\\n    rawModules,\\n    { loader: scopePluginOptions, options: { allowedFiles: [path.resolve(process.cwd(), 'README.md')] } },\\n    lessModules\\n  ],\\n})\\n```\\n\\n### æ–°é…ç½®æ¡ˆä¾‹ï¼ˆæ¨èï¼‰\\n\\n```ts\\nimport defaultConfig from \\\"@uiw-admin/config\\\"\\nexport default defaultConfig({\\n  define: {\\n    STORAGE: 'local',\\n  },\\n  plugins: [\\\"@uiw-admin/plugins-rematch\\\", \\\"@uiw-admin/plugins-routes\\\"],\\n  kktPlugins: [\\n    \\\"@kkt/raw-modules\\\",\\n    \\\"@kkt/less-modules\\\",\\n    [\\\"@kkt/scope-plugin-options\\\", { \\\"allowedFiles\\\": \\\"./README.md\\\" }],\\n  ],\\n})\\n```\\n\\n## è´¡çŒ®è€…\\n\\næ„Ÿè°¢æ‰€æœ‰çš„è´¡çŒ®è€…ï¼Œæ¬¢è¿å¼€å‘è€…ä¸ºå¼€æºé¡¹ç›®è´¡çŒ®åŠ›é‡ã€‚\\n\\n<a href=\\\"https://github.com/uiwjs/uiw-admin/graphs/contributors\\\">\\n  <img src=\\\"https://uiwjs.github.io/uiw-admin/CONTRIBUTORS.svg\\\" />\\n</a>\\n\\n## License\\n\\nLicensed under the MIT License.\\n\";"],"names":[],"sourceRoot":""}