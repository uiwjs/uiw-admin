{"version":3,"file":"static/js/9476.dd4f94f5.chunk.js","mappings":"gHAAA","sources":["../../../packages/router-control/README.md"],"sourcesContent":["export default \"# èœå•è·¯ç”±ç®¡ç†\\n\\n[![npm version](https://img.shields.io/npm/v/@uiw-admin/router-control.svg?label=@uiw-admin/router-control)](https://www.npmjs.com/package/@uiw-admin/router-control)\\n\\nåœ¨é¡¹ç›®æ ¹ç›®å½•çš„`config/routes.json`é…ç½®èœå•è·¯ç”±\\n\\n> 1. è¿›è¡Œè·¯ç”±å¤„ç†è½¬æ¢\\n> 2. è¿›è¡Œè·¯ç”±æƒé™å¤„ç†\\n\\nâš ï¸ æ³¨æ„ï¼š\\n\\n  1. èœå•è·¯ç”±æ–‡ä»¶ä¼˜å…ˆçº§ `json > ts > js`\\n  2. èœå•è·¯ç”±ä½¿ç”¨`js`å’Œ`ts`æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶ä¸­å·²ç»ä¹¦å†™ `import React from \\\"react\\\"` è¿™å¥ä»£ç ï¼Œåœ¨ç”Ÿæˆçš„ `.uiw/routes.tsx` æ–‡ä»¶ä¸­ä¸ä¼šå†æ¬¡è¿›è¡Œç”Ÿæˆ\\n\\n## å®‰è£…\\n\\n```bash\\nnpm i @uiw-admin/router-control --save # yarn add  @uiw-admin/router-control\\n```\\n\\n## è·¯ç”±æ§åˆ¶ç»„ä»¶å‚æ•°\\n\\n| å‚æ•°       | å¿…é¡» | ç±»å‹                                          | é»˜è®¤å€¼    | è¯´æ˜                                   |\\n| :--------- | :--- | :-------------------------------------------- | :-------- | :------------------------------------- |\\n| routeType  | å¦   | `\\\"history\\\" \\\\| \\\"hash\\\" \\\\| \\\"browser\\\"`            | `hash`    | è·¯ç”±æ¨¡å¼                               |\\n| addModels  | å¦   | `(path: string) => Promise<{ default: any }>` | undefined |                                        |\\n| isAutoAuth | å¦   | `boolean`                                     | `true` | æ˜¯å¦è‡ªåŠ¨æ ¡éªŒ \\\"/\\\" çš„è·¯ç”± token æ˜¯å¦å­˜åœ¨ |\\n| notLoginMenus | å¦   | `string[] \\\\| RegExp \\\\| ((current: string) => boolean)`  |   | æ§åˆ¶å“ªäº›èœå•æ˜¯å¯ä»¥ä¸ç”¨ç™»å½•ç›´æ¥å±•ç¤ºçš„  |\\n| navigateTo | å¦   | `string \\\\| ((current: string) => boolean)`  |   |  åˆ¤æ–­ \\\"/\\\" è·¯å¾„ çš„æƒé™  é‡å®šå‘è·³è½¬åœ°å€  |\\n\\n> å¦‚æœéªŒè¯ç™»å½•çš„å­—æ®µä¸æ˜¯token,å¯é€šè¿‡https://uiwjs.github.io/uiw-admin/#/config?title=defaultdefinetype-%E7%B1%BB%E5%9E%8B TOKEN_NAME è‡ªå®šä¹‰\\n\\nâš ï¸æ³¨æ„ï¼š`notLoginMenus` å‚æ•°æ§åˆ¶å“ªäº›èœå•æ˜¯å¯ä»¥ä¸ç”¨ç™»å½•ç›´æ¥å±•ç¤ºçš„ï¼Œå½“ä½¿ç”¨è¿™ä¸ªçš„æ—¶å€™çš„æ—¶å€™æ³¨æ„ğŸ“¢åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹é…ç½®è·¯ç”±ä¸­ `isAuth` å‚æ•°æ— æ•ˆ ï¼Œç›´æ¥èµ°`notLoginMenus`è¿”å›å€¼åˆ¤æ–­ã€‚å½“ç™»å½•çš„æƒ…å†µä¸‹ï¼Œåœ¨è·¯ç”±çš„æƒé™æ²¡æœ‰å­˜å‚¨æœ¬åœ°çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šè°ƒç”¨`notLoginMenus`è¿›è¡Œåˆ¤æ–­å½“å‰è·¯ç”±æƒé™\\n\\nâš ï¸æ³¨æ„ï¼š `routeType`å€¼ä¸º `history`æˆ–`browser` çš„æ—¶å€™éœ€è¦è®¾ç½® `kktrc` é…ç½® `publicPath` å€¼ä¸º `\\\"/\\\"`\\n\\n```ts\\n// kktrc.ts \\n// ...\\nexport default defaultConfig({\\n  publicPath:\\\"/\\\",\\n  // ...\\n})\\n```\\n\\n## ä¸éœ€è¦ç™»å½•å¯ä»¥å±•ç¤ºçš„èœå•\\n\\n```diff\\n// /src/index.tsx\\n\\n// ...\\nimport Control from '@uiw-admin/router-control'\\n\\nexport default ()=>{\\n    // ...\\n   return (\\n    <Control\\n      routeType=\\\"hash\\\"\\n+     notLoginMenus={[\\\"/home\\\"]}\\n    />\\n  )\\n}\\n\\n```\\n\\n\\n## è‡ªå®šä¹‰æ§åˆ¶é¡µé¢æƒé™\\n\\néœ€è¦æ›´æ”¹ä¸¤ä¸ªæ–‡ä»¶\\n\\n[Control ç»„ä»¶å‚æ•°](https://uiwjs.github.io/uiw-admin/#/authorized?title=authpage)\\n\\n```diff\\n// /src/index.tsx\\n\\n// ...\\nimport Control from '@uiw-admin/router-control'\\n\\nexport default ()=>{\\n    // ...\\n   return (\\n    <Control\\n      routeType=\\\"hash\\\"\\n+     isAutoAuth={false}\\n    />\\n  )\\n}\\n\\n```\\n\\n[AuthPage ç»„ä»¶å‚æ•°](https://uiwjs.github.io/uiw-admin/#/authorized?title=authpage)\\n\\n```diff\\n# // /src/layouts/BasicLayout.tsx\\n\\n# // ...\\n+ import AuthPage from \\\"@uiw-admin/authorized\\\"\\n\\nexport default ()=>{\\n    // ...\\n   return (\\n    #  authority è‡ªå®šä¹‰æ§åˆ¶é¡µé¢æƒé™ æ˜¯å¦è·³è½¬ç™»å½•é¡µ\\n+    <AuthPage authority={true} redirectPath=\\\"/login\\\" >\\n     # // ...\\n+    </AuthPage>\\n  )\\n}\\n\\n```\\n\\n\\n## èœå•è·¯ç”±å‚æ•°\\n\\n| å‚æ•°       | å¿…é¡» | ç±»å‹                         | é»˜è®¤å€¼    | è¯´æ˜                                                                                                             |\\n| :--------- | :--- | :--------------------------- | :-------- | :--------------------------------------------------------------------------------------------------------------- |\\n| index      | å¦   | `boolean`                    | undefined | é»˜è®¤è·³è½¬(ä¸`redirect`ä¸€èµ·ä½¿ç”¨)                                                                                   |\\n| redirect   | å¦   | `string`                     | undefined | é‡å®šå‘  å½“`index===true`ç”Ÿæ•ˆ                                                                                     |\\n| path       | å¦   | `string`                     | undefined | è·³è½¬è·¯ç”±                                                                                                         |\\n| name       | å¦   | `string`                     | undefined | èœå•åç§°                                                                                                         |\\n| icon       | å¦   | `string \\\\| React.React.Node` | undefined | èœå•å›¾æ ‡æ ‡                                                                                                       |\\n| component  | å¦   | `string`                     | undefined | æ¸²æŸ“ç»„ä»¶çš„è·¯å¾„(å¦‚æœæ˜¯`403/404/500`çš„é¡µé¢ç›´æ¥å†™ `403/404/500`,ä½¿ç”¨`@uiw-admin/plugins`é‡Œé¢çš„`routes`æ—¶ä¼šè¿›è¡Œè½¬æ¢) |\\n| hideInMenu | å¦   | `boolean`                    | æ—         | æ˜¯å¦éšè—èœå•                                                                                                     |\\n| isAuth     | å¦   | `boolean`                    | æ—         | ç”¨äºè·¯ç”±æ ¡éªŒæƒé™ï¼Œ æ³¨æ„ï¼šå¦‚æœå­˜åœ¨è¿™ä¸ªå­—æ®µåˆ™ä»¥è¿™ä¸ªå­—æ®µæƒé™ä¸ºå‡†ï¼Œä¸èµ°å…¶ä»–æ ¡éªŒ                                                |\\n| routes     | å¦   | `RoutersJSON[]`              | æ—         | å­é›† è·¯ç”± ,(å‚æ•°ä¸èœå•è·¯ç”±å‚æ•°ä¸€è‡´)                                                                              |\\n| navigate   | å¦   | `string`                     | æ—         | è‡ªå®šä¹‰è·³è½¬(`\\\"(navigate) => {console.log('navigate', navigate)}\\\"`)                                                |\\n\\n## è‡ªå®šä¹‰èœå•å›¾æ ‡\\n\\næ³¨æ„ï¼šä½¿ç”¨`js`æˆ–`ts`æ–‡ä»¶æ‰æœ‰è‡ªå®šä¹‰åŠŸèƒ½\\n\\n```js\\n// config/routes.js\\n\\nimport { chat } from \\\"@/assets\\\"\\nimport { Icon } from \\\"uiw\\\"\\nimport React from \\\"react\\\"\\nconst routes = [\\n  {\\n    \\\"path\\\": \\\"/\\\",\\n    \\\"component\\\": \\\"@/layouts/BasicLayout\\\",\\n    \\\"routes\\\": [\\n      {\\n        \\\"index\\\": true,\\n        \\\"redirect\\\": \\\"/tableList\\\"\\n      },\\n      {\\n        \\\"path\\\": \\\"/tableList\\\",\\n        \\\"name\\\": \\\"æŸ¥è¯¢è¡¨æ ¼\\\",\\n        \\\"component\\\": \\\"@/pages/TableList\\\",\\n        \\\"icon\\\": <Icon type={chat} />,\\n      },\\n    ]\\n  }\\n]\\nexport default routes\\n```\\n<!-- ## å‚æ•°\\n\\n```ts\\n\\n// jsonæ–‡ä»¶æ ¼å¼\\nexport interface RoutersJSON {\\n  key?: string;\\n  /** é»˜è®¤è·³è½¬ */\\n  index?: boolean;\\n  /** è·¯å¾„ */\\n  path?: string;\\n  /** åç§° */\\n  name?: string;\\n  /**  å›¾æ ‡ */\\n  icon?: string | React.React.Node;\\n  /** é‡å®šå‘  å½“ index===trueç”Ÿæ•ˆ */\\n  redirect?: string;\\n  /** ç»„ä»¶åœ°å€ å¦‚æœæ˜¯ 403/404/500 çš„é¡µé¢ç›´æ¥å†™ 403/404/500 å°±å¯ä»¥äº†ï¼Œå†…éƒ¨ç›´æ¥åšè½¬åŒ–*/\\n  component?:string;\\n  /** å­é›† è·¯ç”± */\\n  routes?: RoutersJSON[];\\n  /** æ˜¯å¦éšè—èœå• */\\n  hideInMenu?: boolean;\\n  /** ç”¨äºè·¯ç”±æ ¡éªŒæƒé™ï¼Œ æ³¨æ„ï¼šå¦‚æœå­˜åœ¨è¿™ä¸ªå­—æ®µåˆ™ä»¥è¿™ä¸ªå­—æ®µæƒé™ä¸ºå‡† */\\n  isAuth?: boolean;\\n}\\n\\nexport interface ControllerProps {\\n  /** è·¯ç”±æ¨¡å¼   é»˜è®¤ history  */\\n  routeType?: \\\"history\\\" | \\\"hash\\\" | \\\"browser\\\";\\n  /** åŠ è½½ model æ–¹æ³•ï¼Œ(è§£å†³importå¼•ç”¨åœ°å€é—®é¢˜æŠ¥é”™) */ \\n  addModels?: (path: string) => Promise<{ default: any }>;\\n  /** æ˜¯å¦è‡ªåŠ¨æ ¡éªŒ \\\"/\\\" è·¯ç”±  token æ˜¯å¦å­˜åœ¨   */\\n  isAutoAuth?: boolean;\\n}\\n\\n``` -->\\n\\n## ç»„ä»¶æä¾›-è·¯ç”±è·³è½¬æ–¹æ³•\\n\\n1. `navigate` ç”± `react-router-dom`çš„`useNavigate` hook èµ‹å€¼ç”Ÿæˆ\\n2. `history` å½“ `routeType=\\\"history\\\"` æ‰èƒ½ä½¿ç”¨ï¼Œ[ä½¿ç”¨æ–¹å¼](https://github.com/remix-run/history/blob/dev/docs/navigation.md)\\n\\n```ts\\n// navigate ä½¿ç”¨æ–¹å¼\\nnavigate(\\\"/demo\\\",{/** ... */})\\n\\n// history ä½¿ç”¨æ–¹å¼\\nhistory.push(\\\"/demo\\\");\\nhistory.push(\\\"/demo?d=12\\\", { some: \\\"state\\\" });\\nhistory.push(\\n  {\\n    pathname: \\\"/demo\\\",\\n    search: \\\"?d=12\\\",\\n  },\\n  {\\n    some: 1212,\\n  }\\n);\\nhistory.go(-1);\\nhistory.back();\\n```\\n\\n## routes.jsonæ¡ˆä¾‹\\n\\n> `@` æŒ‡å‘ src ç›®å½•\\n\\n```json\\n[\\n  {\\n    \\\"path\\\": \\\"/login\\\",\\n    \\\"component\\\": \\\"@/layouts/UserLayout\\\"\\n  },\\n  {\\n    \\\"path\\\": \\\"/\\\",\\n    \\\"component\\\": \\\"@/layouts/BasicLayout\\\",\\n    \\\"routes\\\": [\\n      {\\n        \\\"index\\\": true,\\n        \\\"redirect\\\": \\\"/tableList\\\"\\n      },\\n      {\\n        \\\"path\\\": \\\"/home\\\",\\n        \\\"name\\\": \\\"é¦–é¡µ\\\",\\n        \\\"component\\\": \\\"@/pages/TableList\\\",\\n        \\\"icon\\\": \\\"home\\\"\\n      },\\n      {\\n        \\\"path\\\": \\\"/dom\\\",\\n        \\\"name\\\": \\\"å­é¡¹\\\",\\n        \\\"icon\\\": \\\"copy\\\",\\n        \\\"routes\\\": [\\n          {\\n            \\\"path\\\": \\\"/dom/courses\\\",\\n            \\\"name\\\": \\\"Dashboard\\\",\\n            \\\"component\\\": \\\"@/pages/Dashboard\\\"\\n          }\\n        ]\\n      },\\n      {\\n        \\\"path\\\": \\\"/403\\\",\\n        \\\"name\\\": \\\"403\\\",\\n        \\\"hideInMenu\\\": true,\\n        \\\"component\\\": \\\"403\\\"\\n      },\\n      {\\n        \\\"path\\\": \\\"/500\\\",\\n        \\\"name\\\": \\\"500\\\",\\n        \\\"hideInMenu\\\": true,\\n        \\\"component\\\": \\\"500\\\"\\n      },\\n      {\\n        \\\"path\\\": \\\"/404\\\",\\n        \\\"name\\\": \\\"404\\\",\\n        \\\"hideInMenu\\\": true,\\n        \\\"component\\\": \\\"404\\\"\\n      },\\n      {\\n        \\\"path\\\": \\\"*\\\",\\n        \\\"name\\\": \\\"404\\\",\\n        \\\"component\\\": \\\"404\\\"\\n      }\\n    ]\\n  }\\n]\\n```\\n\\n## æ¡ˆä¾‹\\n\\n```ts\\nimport React from \\\"react\\\";\\nimport Control from '@uiw-admin/router-control';\\nexport default ()=>{\\n  return (\\n    <Control\\n      routeType=\\\"hash\\\"\\n       // addModels={(path) => import(`${path}`)}\\n    />\\n  )\\n}\\n\\n```\\n\\n## è´¡çŒ®è€…\\n\\næ„Ÿè°¢æ‰€æœ‰çš„è´¡çŒ®è€…ï¼Œæ¬¢è¿å¼€å‘è€…ä¸ºå¼€æºé¡¹ç›®è´¡çŒ®åŠ›é‡ã€‚\\n\\n<a href=\\\"https://github.com/uiwjs/uiw-admin/graphs/contributors\\\">\\n  <img src=\\\"https://uiwjs.github.io/uiw-admin/CONTRIBUTORS.svg\\\" />\\n</a>\\n\\n## License\\n\\nLicensed under the MIT License.\";"],"names":[],"sourceRoot":""}